"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Home; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_PosterForm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/PosterForm */ \"(app-pages-browser)/./components/PosterForm.tsx\");\n/* harmony import */ var _components_PosterPreview__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/PosterPreview */ \"(app-pages-browser)/./components/PosterPreview.tsx\");\n/* harmony import */ var _components_ui_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/Button */ \"(app-pages-browser)/./components/ui/Button.tsx\");\n/* harmony import */ var _lib_export_poster__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/export-poster */ \"(app-pages-browser)/./lib/export-poster.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nconst initialFormData = {\n    title: \"\",\n    time: \"\",\n    location: \"\",\n    organizer: \"\",\n    description: \"\",\n    joinUrl: \"\",\n    isEcnU: false\n};\nfunction Home() {\n    _s();\n    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialFormData);\n    const [posterElement, setPosterElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isSubmitting, setIsSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [posterUrl, setPosterUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [copies, setCopies] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [posterBase64, setPosterBase64] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isExporting, setIsExporting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleFormChange = (data)=>{\n        setFormData(data);\n    };\n    const handlePosterReady = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((element)=>{\n        setPosterElement(element);\n    }, []);\n    const handleExport = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (!posterElement || isExporting) return;\n        setIsExporting(true);\n        try {\n            const base64 = await (0,_lib_export_poster__WEBPACK_IMPORTED_MODULE_5__.exportPoster)(posterElement);\n            setPosterBase64(base64);\n            (0,_lib_export_poster__WEBPACK_IMPORTED_MODULE_5__.downloadBase64Image)(base64, \"poster-\".concat(Date.now(), \".png\"));\n        } catch (error) {\n            console.error(\"导出失败:\", error);\n            alert(\"海报导出失败，请重试\");\n        } finally{\n            setIsExporting(false);\n        }\n    }, [\n        posterElement,\n        isExporting\n    ]);\n    const handleSubmit = async ()=>{\n        if (!posterElement) {\n            alert(\"请先填写活动信息\");\n            return;\n        }\n        setIsSubmitting(true);\n        try {\n            let base64;\n            try {\n                base64 = await (0,_lib_export_poster__WEBPACK_IMPORTED_MODULE_5__.exportPoster)(posterElement);\n                setPosterBase64(base64);\n            } catch (error) {\n                console.error(\"海报导出失败:\", error);\n            }\n            const response = await fetch(\"/api/posters\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    title: formData.title,\n                    time: formData.time,\n                    location: formData.location,\n                    organizer: formData.organizer,\n                    description: formData.description,\n                    join_url: formData.joinUrl,\n                    is_ecnu: formData.isEcnU\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"创建失败\");\n            }\n            const result = await response.json();\n            setPosterUrl(\"\".concat(window.location.origin, \"/p/\").concat(result.id));\n            setCopies(result.copies);\n            if (base64) {\n                try {\n                    await fetch(\"/api/posters/image\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            id: result.id,\n                            poster_base64: base64\n                        })\n                    });\n                } catch (error) {\n                    console.error(\"保存海报图片失败:\", error);\n                }\n            }\n        } catch (error) {\n            console.error(\"提交失败:\", error);\n            alert(\"生成失败，请重试\");\n        } finally{\n            setIsSubmitting(false);\n        }\n    };\n    const copyToClipboard = async (text, label)=>{\n        try {\n            await navigator.clipboard.writeText(text);\n            alert(\"\".concat(label, \" 已复制到剪贴板\"));\n        } catch (e) {\n            alert(\"复制失败，请手动复制\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n        className: \"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 px-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    className: \"text-center mb-10\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 mb-3\",\n                            children: \"校园海报生成器\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                            lineNumber: 131,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-500 text-lg\",\n                            children: \"一键生成社团风海报，适配多平台宣发\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                            lineNumber: 134,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                    lineNumber: 130,\n                    columnNumber: 9\n                }, this),\n                posterUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-4xl mx-auto p-8 bg-white rounded-2xl shadow-xl border border-gray-200\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center mb-8\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"inline-flex items-center gap-2 bg-green-100 text-green-700 px-4 py-2 rounded-full text-sm font-medium mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"w-2 h-2 bg-green-500 rounded-full\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                            lineNumber: 143,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"海报生成成功！\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                    lineNumber: 142,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-bold text-gray-900 mb-2\",\n                                    children: \"分享你的活动\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                    lineNumber: 146,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-500\",\n                                    children: \"复制下方文案或分享链接，让更多人看到你的活动\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                    lineNumber: 149,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                            lineNumber: 141,\n                            columnNumber: 13\n                        }, this),\n                        posterBase64 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-8\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: posterBase64,\n                                alt: \"海报预览\",\n                                className: \"w-full rounded-xl shadow-lg\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                lineNumber: 156,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                            lineNumber: 155,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid md:grid-cols-2 gap-8 mb-8\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"font-semibold text-gray-900 mb-4\",\n                                            children: \"\\uD83D\\uDCF1 朋友圈文案\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                            lineNumber: 162,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-gray-50 rounded-lg p-4 text-sm text-gray-700 mb-3 whitespace-pre-wrap\",\n                                            children: copies === null || copies === void 0 ? void 0 : copies.moments\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                            lineNumber: 163,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            variant: \"outline\",\n                                            size: \"sm\",\n                                            onClick: ()=>copyToClipboard((copies === null || copies === void 0 ? void 0 : copies.moments) || \"\", \"朋友圈文案\"),\n                                            children: \"复制文案\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                            lineNumber: 166,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                    lineNumber: 161,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"font-semibold text-gray-900 mb-4\",\n                                            children: \"\\uD83D\\uDCD5 小红书文案\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                            lineNumber: 176,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-gray-50 rounded-lg p-4 text-sm text-gray-700 mb-3 whitespace-pre-wrap\",\n                                            children: copies === null || copies === void 0 ? void 0 : copies.xiaohongshu\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                            lineNumber: 177,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            variant: \"outline\",\n                                            size: \"sm\",\n                                            onClick: ()=>copyToClipboard((copies === null || copies === void 0 ? void 0 : copies.xiaohongshu) || \"\", \"小红书文案\"),\n                                            children: \"复制文案\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                            lineNumber: 180,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                    lineNumber: 175,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                            lineNumber: 160,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-gray-50 rounded-lg p-4 mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm text-gray-500 mb-2\",\n                                    children: \"一句话总结\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                    lineNumber: 191,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-gray-900 font-medium\",\n                                            children: copies === null || copies === void 0 ? void 0 : copies.summary\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                            lineNumber: 193,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"sm\",\n                                            onClick: ()=>copyToClipboard((copies === null || copies === void 0 ? void 0 : copies.summary) || \"\", \"一句话总结\"),\n                                            children: \"复制\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                            lineNumber: 194,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                    lineNumber: 192,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                            lineNumber: 190,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-wrap gap-4 justify-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                    onClick: ()=>window.open(posterUrl, \"_blank\"),\n                                    size: \"lg\",\n                                    children: \"\\uD83D\\uDD17 打开分享页\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                    lineNumber: 205,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                    variant: \"outline\",\n                                    onClick: handleExport,\n                                    disabled: isExporting || !posterBase64,\n                                    size: \"lg\",\n                                    children: isExporting ? \"导出中...\" : \"\\uD83D\\uDCE5 下载海报\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                    lineNumber: 211,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                    variant: \"secondary\",\n                                    onClick: ()=>{\n                                        setPosterUrl(null);\n                                        setCopies(null);\n                                        setPosterBase64(null);\n                                        setFormData(initialFormData);\n                                    },\n                                    size: \"lg\",\n                                    children: \"创建新海报\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                    lineNumber: 219,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                            lineNumber: 204,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                    lineNumber: 140,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid lg:grid-cols-2 gap-8 items-start\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"order-2 lg:order-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PosterForm__WEBPACK_IMPORTED_MODULE_2__.PosterForm, {\n                                data: formData,\n                                onChange: handleFormChange,\n                                onSubmit: handleSubmit,\n                                isSubmitting: isSubmitting\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                lineNumber: 236,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                            lineNumber: 235,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"order-1 lg:order-2\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"sticky top-8\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PosterPreview__WEBPACK_IMPORTED_MODULE_3__.PosterPreview, {\n                                        data: formData,\n                                        onPosterReady: handlePosterReady\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                        lineNumber: 246,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-4 flex gap-3\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            className: \"flex-1\",\n                                            onClick: handleExport,\n                                            disabled: isExporting || !posterElement,\n                                            variant: \"outline\",\n                                            children: isExporting ? \"导出中...\" : \"\\uD83D\\uDCE5 预览导出\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                            lineNumber: 252,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                        lineNumber: 251,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                                lineNumber: 245,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                            lineNumber: 244,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                    lineNumber: 234,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                    className: \"mt-16 text-center text-sm text-gray-400\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: \"Powered by TRAE SOLO \\xb7 3 小时极速开发\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                        lineNumber: 267,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n                    lineNumber: 266,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n            lineNumber: 129,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\dou12\\\\Desktop\\\\乔钰成\\\\华东师范大学\\\\大一\\\\programming\\\\trae\\\\app\\\\page.tsx\",\n        lineNumber: 128,\n        columnNumber: 5\n    }, this);\n}\n_s(Home, \"ByRzWNm2kE7xTxLUzSwID079aMk=\");\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OENBQ047Ozs7Ozs4Q0FHRCw4REFBQzNFLHlEQUFNQTtvQ0FDTDBFLFNBQVE7b0NBQ1JFLFNBQVM5QztvQ0FDVGtELFVBQVV4RCxlQUFlLENBQUNGO29DQUMxQnFELE1BQUs7OENBRUpuRCxjQUFjLFdBQVc7Ozs7Ozs4Q0FFNUIsOERBQUN4Qix5REFBTUE7b0NBQ0wwRSxTQUFRO29DQUNSRSxTQUFTO3dDQUNQekQsYUFBYTt3Q0FDYkUsVUFBVTt3Q0FDVkUsZ0JBQWdCO3dDQUNoQlYsWUFBWVY7b0NBQ2Q7b0NBQ0F3RSxNQUFLOzhDQUNOOzs7Ozs7Ozs7Ozs7Ozs7Ozt5Q0FNTCw4REFBQ1o7b0JBQUlELFdBQVU7O3NDQUNiLDhEQUFDQzs0QkFBSUQsV0FBVTtzQ0FDYiw0RUFBQ2hFLDhEQUFVQTtnQ0FDVDZCLE1BQU1mO2dDQUNOcUUsVUFBVXZEO2dDQUNWd0QsVUFBVTdDO2dDQUNWckIsY0FBY0E7Ozs7Ozs7Ozs7O3NDQUlsQiw4REFBQytDOzRCQUFJRCxXQUFVO3NDQUNiLDRFQUFDQztnQ0FBSUQsV0FBVTs7a0RBQ2IsOERBQUMvRCxvRUFBYUE7d0NBQ1o0QixNQUFNZjt3Q0FDTnVFLGVBQWV2RDs7Ozs7O2tEQUdqQiw4REFBQ21DO3dDQUFJRCxXQUFVO2tEQUNiLDRFQUFDOUQseURBQU1BOzRDQUNMOEQsV0FBVTs0Q0FDVmMsU0FBUzlDOzRDQUNUa0QsVUFBVXhELGVBQWUsQ0FBQ1Y7NENBQzFCNEQsU0FBUTtzREFFUGxELGNBQWMsV0FBVzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4QkFRdEMsOERBQUM0RDtvQkFBT3RCLFdBQVU7OEJBQ2hCLDRFQUFDSTtrQ0FBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtiO0dBN1B3QnZEO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9wYWdlLnRzeD83NjAzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgUG9zdGVyRm9ybSwgUG9zdGVyRm9ybURhdGEgfSBmcm9tIFwiQC9jb21wb25lbnRzL1Bvc3RlckZvcm1cIjtcbmltcG9ydCB7IFBvc3RlclByZXZpZXcgfSBmcm9tIFwiQC9jb21wb25lbnRzL1Bvc3RlclByZXZpZXdcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvQnV0dG9uXCI7XG5pbXBvcnQgeyBleHBvcnRQb3N0ZXIsIGRvd25sb2FkQmFzZTY0SW1hZ2UgfSBmcm9tIFwiQC9saWIvZXhwb3J0LXBvc3RlclwiO1xuXG5jb25zdCBpbml0aWFsRm9ybURhdGE6IFBvc3RlckZvcm1EYXRhID0ge1xuICB0aXRsZTogXCJcIixcbiAgdGltZTogXCJcIixcbiAgbG9jYXRpb246IFwiXCIsXG4gIG9yZ2FuaXplcjogXCJcIixcbiAgZGVzY3JpcHRpb246IFwiXCIsXG4gIGpvaW5Vcmw6IFwiXCIsXG4gIGlzRWNuVTogZmFsc2UsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIb21lKCkge1xuICBjb25zdCBbZm9ybURhdGEsIHNldEZvcm1EYXRhXSA9IHVzZVN0YXRlPFBvc3RlckZvcm1EYXRhPihpbml0aWFsRm9ybURhdGEpO1xuICBjb25zdCBbcG9zdGVyRWxlbWVudCwgc2V0UG9zdGVyRWxlbWVudF0gPSB1c2VTdGF0ZTxIVE1MRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNTdWJtaXR0aW5nLCBzZXRJc1N1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9zdGVyVXJsLCBzZXRQb3N0ZXJVcmxdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjb3BpZXMsIHNldENvcGllc10gPSB1c2VTdGF0ZTx7XG4gICAgbW9tZW50czogc3RyaW5nO1xuICAgIHhpYW9ob25nc2h1OiBzdHJpbmc7XG4gICAgc3VtbWFyeTogc3RyaW5nO1xuICB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtwb3N0ZXJCYXNlNjQsIHNldFBvc3RlckJhc2U2NF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzRXhwb3J0aW5nLCBzZXRJc0V4cG9ydGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgaGFuZGxlRm9ybUNoYW5nZSA9IChkYXRhOiBQb3N0ZXJGb3JtRGF0YSkgPT4ge1xuICAgIHNldEZvcm1EYXRhKGRhdGEpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBvc3RlclJlYWR5ID0gdXNlQ2FsbGJhY2soKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgc2V0UG9zdGVyRWxlbWVudChlbGVtZW50KTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUV4cG9ydCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXBvc3RlckVsZW1lbnQgfHwgaXNFeHBvcnRpbmcpIHJldHVybjtcbiAgICBcbiAgICBzZXRJc0V4cG9ydGluZyh0cnVlKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgYmFzZTY0ID0gYXdhaXQgZXhwb3J0UG9zdGVyKHBvc3RlckVsZW1lbnQpO1xuICAgICAgc2V0UG9zdGVyQmFzZTY0KGJhc2U2NCk7XG4gICAgICBkb3dubG9hZEJhc2U2NEltYWdlKGJhc2U2NCwgYHBvc3Rlci0ke0RhdGUubm93KCl9LnBuZ2ApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwi5a+85Ye65aSx6LSlOlwiLCBlcnJvcik7XG4gICAgICBhbGVydChcIua1t+aKpeWvvOWHuuWksei0pe+8jOivt+mHjeivlVwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNFeHBvcnRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3Bvc3RlckVsZW1lbnQsIGlzRXhwb3J0aW5nXSk7XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghcG9zdGVyRWxlbWVudCkge1xuICAgICAgYWxlcnQoXCLor7flhYjloavlhpnmtLvliqjkv6Hmga9cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHNldElzU3VibWl0dGluZyh0cnVlKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgbGV0IGJhc2U2NDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYmFzZTY0ID0gYXdhaXQgZXhwb3J0UG9zdGVyKHBvc3RlckVsZW1lbnQpO1xuICAgICAgICBzZXRQb3N0ZXJCYXNlNjQoYmFzZTY0KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLmtbfmiqXlr7zlh7rlpLHotKU6XCIsIGVycm9yKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvcG9zdGVyc1wiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHRpdGxlOiBmb3JtRGF0YS50aXRsZSxcbiAgICAgICAgICB0aW1lOiBmb3JtRGF0YS50aW1lLFxuICAgICAgICAgIGxvY2F0aW9uOiBmb3JtRGF0YS5sb2NhdGlvbixcbiAgICAgICAgICBvcmdhbml6ZXI6IGZvcm1EYXRhLm9yZ2FuaXplcixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZm9ybURhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgICAgam9pbl91cmw6IGZvcm1EYXRhLmpvaW5VcmwsXG4gICAgICAgICAgaXNfZWNudTogZm9ybURhdGEuaXNFY25VLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIuWIm+W7uuWksei0pVwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgc2V0UG9zdGVyVXJsKGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L3AvJHtyZXN1bHQuaWR9YCk7XG4gICAgICBzZXRDb3BpZXMocmVzdWx0LmNvcGllcyk7XG4gICAgICBcbiAgICAgIGlmIChiYXNlNjQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBmZXRjaChcIi9hcGkvcG9zdGVycy9pbWFnZVwiLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBpZDogcmVzdWx0LmlkLFxuICAgICAgICAgICAgICBwb3N0ZXJfYmFzZTY0OiBiYXNlNjQsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi5L+d5a2Y5rW35oql5Zu+54mH5aSx6LSlOlwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIuaPkOS6pOWksei0pTpcIiwgZXJyb3IpO1xuICAgICAgYWxlcnQoXCLnlJ/miJDlpLHotKXvvIzor7fph43or5VcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNvcHlUb0NsaXBib2FyZCA9IGFzeW5jICh0ZXh0OiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgICBhbGVydChgJHtsYWJlbH0g5bey5aSN5Yi25Yiw5Ymq6LS05p2/YCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBhbGVydChcIuWkjeWItuWksei0pe+8jOivt+aJi+WKqOWkjeWItlwiKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8bWFpbiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ncmF5LTUwIHRvLWdyYXktMTAwIHB5LTggcHgtNFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy02eGwgbXgtYXV0b1wiPlxuICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLTEwXCI+XG4gICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtNHhsIGZvbnQtYm9sZCBiZy1jbGlwLXRleHQgdGV4dC10cmFuc3BhcmVudCBiZy1ncmFkaWVudC10by1yIGZyb20taW5kaWdvLTYwMCB2aWEtcHVycGxlLTYwMCB0by1waW5rLTYwMCBtYi0zXCI+XG4gICAgICAgICAgICDmoKHlm63mtbfmiqXnlJ/miJDlmahcbiAgICAgICAgICA8L2gxPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC1sZ1wiPlxuICAgICAgICAgICAg5LiA6ZSu55Sf5oiQ56S+5Zui6aOO5rW35oql77yM6YCC6YWN5aSa5bmz5Y+w5a6j5Y+RXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICB7cG9zdGVyVXJsID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gcC04IGJnLXdoaXRlIHJvdW5kZWQtMnhsIHNoYWRvdy14bCBib3JkZXIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLThcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tNzAwIHB4LTQgcHktMiByb3VuZGVkLWZ1bGwgdGV4dC1zbSBmb250LW1lZGl1bSBtYi00XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIOa1t+aKpeeUn+aIkOaIkOWKn++8gVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICDliIbkuqvkvaDnmoTmtLvliqhcbiAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgIOWkjeWItuS4i+aWueaWh+ahiOaIluWIhuS6q+mTvuaOpe+8jOiuqeabtOWkmuS6uueci+WIsOS9oOeahOa0u+WKqFxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAge3Bvc3RlckJhc2U2NCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItOFwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtwb3N0ZXJCYXNlNjR9IGFsdD1cIua1t+aKpemihOiniFwiIGNsYXNzTmFtZT1cInctZnVsbCByb3VuZGVkLXhsIHNoYWRvdy1sZ1wiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIG1kOmdyaWQtY29scy0yIGdhcC04IG1iLThcIj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTRcIj7wn5OxIOaci+WPi+WciOaWh+ahiDwvaDM+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIHJvdW5kZWQtbGcgcC00IHRleHQtc20gdGV4dC1ncmF5LTcwMCBtYi0zIHdoaXRlc3BhY2UtcHJlLXdyYXBcIj5cbiAgICAgICAgICAgICAgICAgIHtjb3BpZXM/Lm1vbWVudHN9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGNvcHlUb0NsaXBib2FyZChjb3BpZXM/Lm1vbWVudHMgfHwgXCJcIiwgXCLmnIvlj4vlnIjmlofmoYhcIil9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAg5aSN5Yi25paH5qGIXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi00XCI+8J+TlSDlsI/nuqLkuabmlofmoYg8L2gzPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS01MCByb3VuZGVkLWxnIHAtNCB0ZXh0LXNtIHRleHQtZ3JheS03MDAgbWItMyB3aGl0ZXNwYWNlLXByZS13cmFwXCI+XG4gICAgICAgICAgICAgICAgICB7Y29waWVzPy54aWFvaG9uZ3NodX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gY29weVRvQ2xpcGJvYXJkKGNvcGllcz8ueGlhb2hvbmdzaHUgfHwgXCJcIiwgXCLlsI/nuqLkuabmlofmoYhcIil9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAg5aSN5Yi25paH5qGIXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS01MCByb3VuZGVkLWxnIHAtNCBtYi02XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIG1iLTJcIj7kuIDlj6Xor53mgLvnu5M8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktOTAwIGZvbnQtbWVkaXVtXCI+e2NvcGllcz8uc3VtbWFyeX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBjb3B5VG9DbGlwYm9hcmQoY29waWVzPy5zdW1tYXJ5IHx8IFwiXCIsIFwi5LiA5Y+l6K+d5oC757uTXCIpfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIOWkjeWItlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC00IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cub3Blbihwb3N0ZXJVcmwsIFwiX2JsYW5rXCIpfVxuICAgICAgICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDwn5SXIOaJk+W8gOWIhuS6q+mhtVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVFeHBvcnR9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzRXhwb3J0aW5nIHx8ICFwb3N0ZXJCYXNlNjR9XG4gICAgICAgICAgICAgICAgc2l6ZT1cImxnXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtpc0V4cG9ydGluZyA/IFwi5a+85Ye65LitLi4uXCIgOiBcIvCfk6Ug5LiL6L295rW35oqlXCJ9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0UG9zdGVyVXJsKG51bGwpO1xuICAgICAgICAgICAgICAgICAgc2V0Q29waWVzKG51bGwpO1xuICAgICAgICAgICAgICAgICAgc2V0UG9zdGVyQmFzZTY0KG51bGwpO1xuICAgICAgICAgICAgICAgICAgc2V0Rm9ybURhdGEoaW5pdGlhbEZvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDliJvlu7rmlrDmtbfmiqVcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgbGc6Z3JpZC1jb2xzLTIgZ2FwLTggaXRlbXMtc3RhcnRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3JkZXItMiBsZzpvcmRlci0xXCI+XG4gICAgICAgICAgICAgIDxQb3N0ZXJGb3JtXG4gICAgICAgICAgICAgICAgZGF0YT17Zm9ybURhdGF9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZvcm1DaGFuZ2V9XG4gICAgICAgICAgICAgICAgb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH1cbiAgICAgICAgICAgICAgICBpc1N1Ym1pdHRpbmc9e2lzU3VibWl0dGluZ31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9yZGVyLTEgbGc6b3JkZXItMlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0aWNreSB0b3AtOFwiPlxuICAgICAgICAgICAgICAgIDxQb3N0ZXJQcmV2aWV3XG4gICAgICAgICAgICAgICAgICBkYXRhPXtmb3JtRGF0YX1cbiAgICAgICAgICAgICAgICAgIG9uUG9zdGVyUmVhZHk9e2hhbmRsZVBvc3RlclJlYWR5fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGZsZXggZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRXhwb3J0fVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNFeHBvcnRpbmcgfHwgIXBvc3RlckVsZW1lbnR9XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2lzRXhwb3J0aW5nID8gXCLlr7zlh7rkuK0uLi5cIiA6IFwi8J+TpSDpooTop4jlr7zlh7pcIn1cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIDxmb290ZXIgY2xhc3NOYW1lPVwibXQtMTYgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgPHA+UG93ZXJlZCBieSBUUkFFIFNPTE8gwrcgMyDlsI/ml7bmnoHpgJ/lvIDlj5E8L3A+XG4gICAgICAgIDwvZm9vdGVyPlxuICAgICAgPC9kaXY+XG4gICAgPC9tYWluPlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJQb3N0ZXJGb3JtIiwiUG9zdGVyUHJldmlldyIsIkJ1dHRvbiIsImV4cG9ydFBvc3RlciIsImRvd25sb2FkQmFzZTY0SW1hZ2UiLCJpbml0aWFsRm9ybURhdGEiLCJ0aXRsZSIsInRpbWUiLCJsb2NhdGlvbiIsIm9yZ2FuaXplciIsImRlc2NyaXB0aW9uIiwiam9pblVybCIsImlzRWNuVSIsIkhvbWUiLCJmb3JtRGF0YSIsInNldEZvcm1EYXRhIiwicG9zdGVyRWxlbWVudCIsInNldFBvc3RlckVsZW1lbnQiLCJpc1N1Ym1pdHRpbmciLCJzZXRJc1N1Ym1pdHRpbmciLCJwb3N0ZXJVcmwiLCJzZXRQb3N0ZXJVcmwiLCJjb3BpZXMiLCJzZXRDb3BpZXMiLCJwb3N0ZXJCYXNlNjQiLCJzZXRQb3N0ZXJCYXNlNjQiLCJpc0V4cG9ydGluZyIsInNldElzRXhwb3J0aW5nIiwiaGFuZGxlRm9ybUNoYW5nZSIsImRhdGEiLCJoYW5kbGVQb3N0ZXJSZWFkeSIsImVsZW1lbnQiLCJoYW5kbGVFeHBvcnQiLCJiYXNlNjQiLCJEYXRlIiwibm93IiwiZXJyb3IiLCJjb25zb2xlIiwiYWxlcnQiLCJoYW5kbGVTdWJtaXQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwiam9pbl91cmwiLCJpc19lY251Iiwib2siLCJFcnJvciIsInJlc3VsdCIsImpzb24iLCJ3aW5kb3ciLCJvcmlnaW4iLCJpZCIsInBvc3Rlcl9iYXNlNjQiLCJjb3B5VG9DbGlwYm9hcmQiLCJ0ZXh0IiwibGFiZWwiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJtYWluIiwiY2xhc3NOYW1lIiwiZGl2IiwiaGVhZGVyIiwiaDEiLCJwIiwic3BhbiIsImgyIiwiaW1nIiwic3JjIiwiYWx0IiwiaDMiLCJtb21lbnRzIiwidmFyaWFudCIsInNpemUiLCJvbkNsaWNrIiwieGlhb2hvbmdzaHUiLCJzdW1tYXJ5Iiwib3BlbiIsImRpc2FibGVkIiwib25DaGFuZ2UiLCJvblN1Ym1pdCIsIm9uUG9zdGVyUmVhZHkiLCJmb290ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/export-poster.ts":
/*!******************************!*\
  !*** ./lib/export-poster.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   base64ToBlob: function() { return /* binding */ base64ToBlob; },\n/* harmony export */   downloadBase64Image: function() { return /* binding */ downloadBase64Image; },\n/* harmony export */   exportPoster: function() { return /* binding */ exportPoster; }\n/* harmony export */ });\n/* harmony import */ var html_to_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! html-to-image */ \"(app-pages-browser)/./node_modules/html-to-image/es/index.js\");\n\nasync function exportPoster(node) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    const { pixelRatio = 2, quality = 0.95, backgroundColor = null } = options;\n    const baseOptions = {\n        pixelRatio,\n        backgroundColor,\n        style: {\n            transform: \"scale(1)\",\n            transformOrigin: \"top left\"\n        }\n    };\n    try {\n        return await (0,html_to_image__WEBPACK_IMPORTED_MODULE_0__.toPng)(node, baseOptions);\n    } catch (error) {\n        console.warn(\"toPng 失败，尝试 toJpeg:\", error);\n    }\n    try {\n        return await (0,html_to_image__WEBPACK_IMPORTED_MODULE_0__.toJpeg)(node, {\n            ...baseOptions,\n            quality\n        });\n    } catch (error) {\n        console.warn(\"toJpeg 失败，尝试基础 toPng:\", error);\n    }\n    try {\n        return await (0,html_to_image__WEBPACK_IMPORTED_MODULE_0__.toPng)(node, {\n            pixelRatio: 1\n        });\n    } catch (error) {\n        console.error(\"所有导出方式均失败:\", error);\n        throw new Error(\"海报导出失败，请尝试截屏保存\");\n    }\n}\nfunction downloadBase64Image(base64, filename) {\n    const link = document.createElement(\"a\");\n    link.href = base64;\n    link.download = filename;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n}\nfunction base64ToBlob(base64) {\n    const byteString = atob(base64.split(\",\")[1]);\n    const mimeType = base64.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n    const ab = new ArrayBuffer(byteString.length);\n    const ia = new Uint8Array(ab);\n    for(let i = 0; i < byteString.length; i++){\n        ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([\n        ab\n    ], {\n        type: mimeType\n    });\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9leHBvcnQtcG9zdGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEM7QUFRdkMsZUFBZUUsYUFBYUMsSUFBaUI7UUFBRUMsVUFBQUEsaUVBQXlCLENBQUM7SUFDOUUsTUFBTSxFQUFFQyxhQUFhLENBQUMsRUFBRUMsVUFBVSxJQUFJLEVBQUVDLGtCQUFrQixJQUFJLEVBQUUsR0FBR0g7SUFFbkUsTUFBTUksY0FBYztRQUNsQkg7UUFDQUU7UUFDQUUsT0FBTztZQUNMQyxXQUFXO1lBQ1hDLGlCQUFpQjtRQUNuQjtJQUNGO0lBRUEsSUFBSTtRQUNGLE9BQU8sTUFBTVgsb0RBQUtBLENBQUNHLE1BQU1LO0lBQzNCLEVBQUUsT0FBT0ksT0FBTztRQUNkQyxRQUFRQyxJQUFJLENBQUMsdUJBQXVCRjtJQUN0QztJQUVBLElBQUk7UUFDRixPQUFPLE1BQU1YLHFEQUFNQSxDQUFDRSxNQUFNO1lBQUUsR0FBR0ssV0FBVztZQUFFRjtRQUFRO0lBQ3RELEVBQUUsT0FBT00sT0FBTztRQUNkQyxRQUFRQyxJQUFJLENBQUMseUJBQXlCRjtJQUN4QztJQUVBLElBQUk7UUFDRixPQUFPLE1BQU1aLG9EQUFLQSxDQUFDRyxNQUFNO1lBQUVFLFlBQVk7UUFBRTtJQUMzQyxFQUFFLE9BQU9PLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGNBQWNBO1FBQzVCLE1BQU0sSUFBSUcsTUFBTTtJQUNsQjtBQUNGO0FBRU8sU0FBU0Msb0JBQW9CQyxNQUFjLEVBQUVDLFFBQWdCO0lBQ2xFLE1BQU1DLE9BQU9DLFNBQVNDLGFBQWEsQ0FBQztJQUNwQ0YsS0FBS0csSUFBSSxHQUFHTDtJQUNaRSxLQUFLSSxRQUFRLEdBQUdMO0lBQ2hCRSxTQUFTSSxJQUFJLENBQUNDLFdBQVcsQ0FBQ047SUFDMUJBLEtBQUtPLEtBQUs7SUFDVk4sU0FBU0ksSUFBSSxDQUFDRyxXQUFXLENBQUNSO0FBQzVCO0FBRU8sU0FBU1MsYUFBYVgsTUFBYztJQUN6QyxNQUFNWSxhQUFhQyxLQUFLYixPQUFPYyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDNUMsTUFBTUMsV0FBV2YsT0FBT2MsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUNBLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDQSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDakUsTUFBTUUsS0FBSyxJQUFJQyxZQUFZTCxXQUFXTSxNQUFNO0lBQzVDLE1BQU1DLEtBQUssSUFBSUMsV0FBV0o7SUFFMUIsSUFBSyxJQUFJSyxJQUFJLEdBQUdBLElBQUlULFdBQVdNLE1BQU0sRUFBRUcsSUFBSztRQUMxQ0YsRUFBRSxDQUFDRSxFQUFFLEdBQUdULFdBQVdVLFVBQVUsQ0FBQ0Q7SUFDaEM7SUFFQSxPQUFPLElBQUlFLEtBQUs7UUFBQ1A7S0FBRyxFQUFFO1FBQUVRLE1BQU1UO0lBQVM7QUFDekMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL2V4cG9ydC1wb3N0ZXIudHM/NGJiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0b1BuZywgdG9KcGVnIH0gZnJvbSBcImh0bWwtdG8taW1hZ2VcIjtcblxuZXhwb3J0IGludGVyZmFjZSBFeHBvcnRPcHRpb25zIHtcbiAgcGl4ZWxSYXRpbz86IG51bWJlcjtcbiAgcXVhbGl0eT86IG51bWJlcjtcbiAgYmFja2dyb3VuZENvbG9yPzogc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4cG9ydFBvc3Rlcihub2RlOiBIVE1MRWxlbWVudCwgb3B0aW9uczogRXhwb3J0T3B0aW9ucyA9IHt9KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgeyBwaXhlbFJhdGlvID0gMiwgcXVhbGl0eSA9IDAuOTUsIGJhY2tncm91bmRDb2xvciA9IG51bGwgfSA9IG9wdGlvbnM7XG4gIFxuICBjb25zdCBiYXNlT3B0aW9ucyA9IHtcbiAgICBwaXhlbFJhdGlvLFxuICAgIGJhY2tncm91bmRDb2xvcixcbiAgICBzdHlsZToge1xuICAgICAgdHJhbnNmb3JtOiBcInNjYWxlKDEpXCIsXG4gICAgICB0cmFuc2Zvcm1PcmlnaW46IFwidG9wIGxlZnRcIixcbiAgICB9LFxuICB9O1xuICBcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgdG9Qbmcobm9kZSwgYmFzZU9wdGlvbnMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybihcInRvUG5nIOWksei0pe+8jOWwneivlSB0b0pwZWc6XCIsIGVycm9yKTtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgdG9KcGVnKG5vZGUsIHsgLi4uYmFzZU9wdGlvbnMsIHF1YWxpdHkgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKFwidG9KcGVnIOWksei0pe+8jOWwneivleWfuuehgCB0b1BuZzpcIiwgZXJyb3IpO1xuICB9XG4gIFxuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCB0b1BuZyhub2RlLCB7IHBpeGVsUmF0aW86IDEgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIuaJgOacieWvvOWHuuaWueW8j+Wdh+Wksei0pTpcIiwgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcihcIua1t+aKpeWvvOWHuuWksei0pe+8jOivt+WwneivleaIquWxj+S/neWtmFwiKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRCYXNlNjRJbWFnZShiYXNlNjQ6IHN0cmluZywgZmlsZW5hbWU6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gIGxpbmsuaHJlZiA9IGJhc2U2NDtcbiAgbGluay5kb3dubG9hZCA9IGZpbGVuYW1lO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICBsaW5rLmNsaWNrKCk7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRUb0Jsb2IoYmFzZTY0OiBzdHJpbmcpOiBCbG9iIHtcbiAgY29uc3QgYnl0ZVN0cmluZyA9IGF0b2IoYmFzZTY0LnNwbGl0KFwiLFwiKVsxXSk7XG4gIGNvbnN0IG1pbWVUeXBlID0gYmFzZTY0LnNwbGl0KFwiLFwiKVswXS5zcGxpdChcIjpcIilbMV0uc3BsaXQoXCI7XCIpWzBdO1xuICBjb25zdCBhYiA9IG5ldyBBcnJheUJ1ZmZlcihieXRlU3RyaW5nLmxlbmd0aCk7XG4gIGNvbnN0IGlhID0gbmV3IFVpbnQ4QXJyYXkoYWIpO1xuICBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlU3RyaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgaWFbaV0gPSBieXRlU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gIH1cbiAgXG4gIHJldHVybiBuZXcgQmxvYihbYWJdLCB7IHR5cGU6IG1pbWVUeXBlIH0pO1xufVxuIl0sIm5hbWVzIjpbInRvUG5nIiwidG9KcGVnIiwiZXhwb3J0UG9zdGVyIiwibm9kZSIsIm9wdGlvbnMiLCJwaXhlbFJhdGlvIiwicXVhbGl0eSIsImJhY2tncm91bmRDb2xvciIsImJhc2VPcHRpb25zIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2Zvcm1PcmlnaW4iLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiRXJyb3IiLCJkb3dubG9hZEJhc2U2NEltYWdlIiwiYmFzZTY0IiwiZmlsZW5hbWUiLCJsaW5rIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsImJhc2U2NFRvQmxvYiIsImJ5dGVTdHJpbmciLCJhdG9iIiwic3BsaXQiLCJtaW1lVHlwZSIsImFiIiwiQXJyYXlCdWZmZXIiLCJsZW5ndGgiLCJpYSIsIlVpbnQ4QXJyYXkiLCJpIiwiY2hhckNvZGVBdCIsIkJsb2IiLCJ0eXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/export-poster.ts\n"));

/***/ })

});