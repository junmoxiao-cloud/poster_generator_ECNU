"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./lib/export-poster.ts":
/*!******************************!*\
  !*** ./lib/export-poster.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   base64ToBlob: function() { return /* binding */ base64ToBlob; },\n/* harmony export */   downloadBase64Image: function() { return /* binding */ downloadBase64Image; },\n/* harmony export */   exportPoster: function() { return /* binding */ exportPoster; }\n/* harmony export */ });\n/* harmony import */ var html_to_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! html-to-image */ \"(app-pages-browser)/./node_modules/html-to-image/es/index.js\");\n\nasync function exportPoster(node) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    const { pixelRatio = 2, quality = 0.95 } = options;\n    const baseOptions = {\n        pixelRatio,\n        style: {\n            transform: \"scale(1)\",\n            transformOrigin: \"top left\"\n        }\n    };\n    try {\n        return await (0,html_to_image__WEBPACK_IMPORTED_MODULE_0__.toPng)(node, baseOptions);\n    } catch (error) {\n        console.warn(\"toPng 失败，尝试 toJpeg:\", error);\n    }\n    try {\n        return await (0,html_to_image__WEBPACK_IMPORTED_MODULE_0__.toJpeg)(node, {\n            ...baseOptions,\n            quality\n        });\n    } catch (error) {\n        console.warn(\"toJpeg 失败，尝试基础 toPng:\", error);\n    }\n    try {\n        return await (0,html_to_image__WEBPACK_IMPORTED_MODULE_0__.toPng)(node, {\n            pixelRatio: 1\n        });\n    } catch (error) {\n        console.error(\"所有导出方式均失败:\", error);\n        throw new Error(\"海报导出失败，请尝试截屏保存\");\n    }\n}\nfunction downloadBase64Image(base64, filename) {\n    const link = document.createElement(\"a\");\n    link.href = base64;\n    link.download = filename;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n}\nfunction base64ToBlob(base64) {\n    const byteString = atob(base64.split(\",\")[1]);\n    const mimeType = base64.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n    const ab = new ArrayBuffer(byteString.length);\n    const ia = new Uint8Array(ab);\n    for(let i = 0; i < byteString.length; i++){\n        ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([\n        ab\n    ], {\n        type: mimeType\n    });\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9leHBvcnQtcG9zdGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEM7QUFRdkMsZUFBZUUsYUFBYUMsSUFBaUI7UUFBRUMsVUFBQUEsaUVBQXlCLENBQUM7SUFDOUUsTUFBTSxFQUFFQyxhQUFhLENBQUMsRUFBRUMsVUFBVSxJQUFJLEVBQUUsR0FBR0Y7SUFFM0MsTUFBTUcsY0FBYztRQUNsQkY7UUFDQUcsT0FBTztZQUNMQyxXQUFXO1lBQ1hDLGlCQUFpQjtRQUNuQjtJQUNGO0lBRUEsSUFBSTtRQUNGLE9BQU8sTUFBTVYsb0RBQUtBLENBQUNHLE1BQU1JO0lBQzNCLEVBQUUsT0FBT0ksT0FBTztRQUNkQyxRQUFRQyxJQUFJLENBQUMsdUJBQXVCRjtJQUN0QztJQUVBLElBQUk7UUFDRixPQUFPLE1BQU1WLHFEQUFNQSxDQUFDRSxNQUFNO1lBQUUsR0FBR0ksV0FBVztZQUFFRDtRQUFRO0lBQ3RELEVBQUUsT0FBT0ssT0FBTztRQUNkQyxRQUFRQyxJQUFJLENBQUMseUJBQXlCRjtJQUN4QztJQUVBLElBQUk7UUFDRixPQUFPLE1BQU1YLG9EQUFLQSxDQUFDRyxNQUFNO1lBQUVFLFlBQVk7UUFBRTtJQUMzQyxFQUFFLE9BQU9NLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGNBQWNBO1FBQzVCLE1BQU0sSUFBSUcsTUFBTTtJQUNsQjtBQUNGO0FBRU8sU0FBU0Msb0JBQW9CQyxNQUFjLEVBQUVDLFFBQWdCO0lBQ2xFLE1BQU1DLE9BQU9DLFNBQVNDLGFBQWEsQ0FBQztJQUNwQ0YsS0FBS0csSUFBSSxHQUFHTDtJQUNaRSxLQUFLSSxRQUFRLEdBQUdMO0lBQ2hCRSxTQUFTSSxJQUFJLENBQUNDLFdBQVcsQ0FBQ047SUFDMUJBLEtBQUtPLEtBQUs7SUFDVk4sU0FBU0ksSUFBSSxDQUFDRyxXQUFXLENBQUNSO0FBQzVCO0FBRU8sU0FBU1MsYUFBYVgsTUFBYztJQUN6QyxNQUFNWSxhQUFhQyxLQUFLYixPQUFPYyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDNUMsTUFBTUMsV0FBV2YsT0FBT2MsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUNBLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDQSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDakUsTUFBTUUsS0FBSyxJQUFJQyxZQUFZTCxXQUFXTSxNQUFNO0lBQzVDLE1BQU1DLEtBQUssSUFBSUMsV0FBV0o7SUFFMUIsSUFBSyxJQUFJSyxJQUFJLEdBQUdBLElBQUlULFdBQVdNLE1BQU0sRUFBRUcsSUFBSztRQUMxQ0YsRUFBRSxDQUFDRSxFQUFFLEdBQUdULFdBQVdVLFVBQVUsQ0FBQ0Q7SUFDaEM7SUFFQSxPQUFPLElBQUlFLEtBQUs7UUFBQ1A7S0FBRyxFQUFFO1FBQUVRLE1BQU1UO0lBQVM7QUFDekMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL2V4cG9ydC1wb3N0ZXIudHM/NGJiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0b1BuZywgdG9KcGVnIH0gZnJvbSBcImh0bWwtdG8taW1hZ2VcIjtcblxuZXhwb3J0IGludGVyZmFjZSBFeHBvcnRPcHRpb25zIHtcbiAgcGl4ZWxSYXRpbz86IG51bWJlcjtcbiAgcXVhbGl0eT86IG51bWJlcjtcbiAgYmFja2dyb3VuZENvbG9yPzogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhwb3J0UG9zdGVyKG5vZGU6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBFeHBvcnRPcHRpb25zID0ge30pOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCB7IHBpeGVsUmF0aW8gPSAyLCBxdWFsaXR5ID0gMC45NSB9ID0gb3B0aW9ucztcbiAgXG4gIGNvbnN0IGJhc2VPcHRpb25zID0ge1xuICAgIHBpeGVsUmF0aW8sXG4gICAgc3R5bGU6IHtcbiAgICAgIHRyYW5zZm9ybTogXCJzY2FsZSgxKVwiLFxuICAgICAgdHJhbnNmb3JtT3JpZ2luOiBcInRvcCBsZWZ0XCIsXG4gICAgfSxcbiAgfTtcbiAgXG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHRvUG5nKG5vZGUsIGJhc2VPcHRpb25zKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oXCJ0b1BuZyDlpLHotKXvvIzlsJ3or5UgdG9KcGVnOlwiLCBlcnJvcik7XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHRvSnBlZyhub2RlLCB7IC4uLmJhc2VPcHRpb25zLCBxdWFsaXR5IH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybihcInRvSnBlZyDlpLHotKXvvIzlsJ3or5Xln7rnoYAgdG9Qbmc6XCIsIGVycm9yKTtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgdG9Qbmcobm9kZSwgeyBwaXhlbFJhdGlvOiAxIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCLmiYDmnInlr7zlh7rmlrnlvI/lnYflpLHotKU6XCIsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCLmtbfmiqXlr7zlh7rlpLHotKXvvIzor7flsJ3or5XmiKrlsY/kv53lrZhcIik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkQmFzZTY0SW1hZ2UoYmFzZTY0OiBzdHJpbmcsIGZpbGVuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICBsaW5rLmhyZWYgPSBiYXNlNjQ7XG4gIGxpbmsuZG93bmxvYWQgPSBmaWxlbmFtZTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgbGluay5jbGljaygpO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0VG9CbG9iKGJhc2U2NDogc3RyaW5nKTogQmxvYiB7XG4gIGNvbnN0IGJ5dGVTdHJpbmcgPSBhdG9iKGJhc2U2NC5zcGxpdChcIixcIilbMV0pO1xuICBjb25zdCBtaW1lVHlwZSA9IGJhc2U2NC5zcGxpdChcIixcIilbMF0uc3BsaXQoXCI6XCIpWzFdLnNwbGl0KFwiO1wiKVswXTtcbiAgY29uc3QgYWIgPSBuZXcgQXJyYXlCdWZmZXIoYnl0ZVN0cmluZy5sZW5ndGgpO1xuICBjb25zdCBpYSA9IG5ldyBVaW50OEFycmF5KGFiKTtcbiAgXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZVN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgIGlhW2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIFxuICByZXR1cm4gbmV3IEJsb2IoW2FiXSwgeyB0eXBlOiBtaW1lVHlwZSB9KTtcbn1cbiJdLCJuYW1lcyI6WyJ0b1BuZyIsInRvSnBlZyIsImV4cG9ydFBvc3RlciIsIm5vZGUiLCJvcHRpb25zIiwicGl4ZWxSYXRpbyIsInF1YWxpdHkiLCJiYXNlT3B0aW9ucyIsInN0eWxlIiwidHJhbnNmb3JtIiwidHJhbnNmb3JtT3JpZ2luIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsIkVycm9yIiwiZG93bmxvYWRCYXNlNjRJbWFnZSIsImJhc2U2NCIsImZpbGVuYW1lIiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJkb3dubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJiYXNlNjRUb0Jsb2IiLCJieXRlU3RyaW5nIiwiYXRvYiIsInNwbGl0IiwibWltZVR5cGUiLCJhYiIsIkFycmF5QnVmZmVyIiwibGVuZ3RoIiwiaWEiLCJVaW50OEFycmF5IiwiaSIsImNoYXJDb2RlQXQiLCJCbG9iIiwidHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/export-poster.ts\n"));

/***/ })

});